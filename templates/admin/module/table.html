{% extends "layouts/admin.html" %}

{% block module %}
<table class="table table-striped table-sm caption-top">
	<caption>
		<div id="links" class="w-100">
			{% for i,link in filters.links %}
			<span class="badge bg-dark" ><a class="link-light" href="?filter_link={{ i }}">{{ link }} [<span class='count' hx-trigger="load" hx-get="?filter_count={{ i }}">...</span>]</a></span>
			{% endfor %}
		</div>
	</caption>
	<thead class="sticky-top bg-dark text-light p-0">
		<tr class="p-0">
			{% for title in table.columns %}
			<th>{{ title }}</th>
			{% endfor %}
		</tr>
	</thead>
	<tbody>
		{% for row in table.rows %}
		<tr>
			{% for col in row %}
			<td>{{ col|raw }}</td>
			{% endfor %}
		</tr>
		{% endfor %}
	</tbody>
</table>
<nav aria-label="page navigation">
	<ul class="pagination pagination-sm">
		<li class="page-item {% if pagination.page < 2 %}disabled{% endif %}"><a class="page-link" href="?page={{ pagination.page - 1 }}">Previous</a></li>
		{% for i in 1..pagination.total_pages %}
			{% if i <= pagination.total_pages and i > pagination.page - 3 and i < pagination.page + 3 %}
			<li class="page-item {% if i == pagination.page %}active{% endif %}"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
			{% endif %}
		{% endfor %}
		<li class="page-item {% if pagination.page >= pagination.total_pages %}disabled{% endif %}"><a class="page-link" href="?page={{ pagination.page + 1 }}">Next</a></li>
	</ul>
</nav>
{% endblock %}
